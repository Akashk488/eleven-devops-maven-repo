pipeline {

    agent {label 'jenkins_slave'}

    tools {
        dockerTool 'docker_new'
    }

   stages {

    stage ('Checkout_scm'){
        steps{
              checkout scm
        }
        
    }
    
    stage ('dockerbuid'){
         steps {
            sh 'sudo docker build -t akashk488/project:v1 .'
         }

    }
    stage ('docker_push'){
      
      steps {
      sh 'sudo docker login -u akashk -p dckr_pat_Qe2H-N1SGe8ADErPpglu-JCr2Ew'
      
      sh 'sudo docker push kashk488/project:v1 ' 

     }


      }
    }
    
   } 
